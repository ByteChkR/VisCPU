; ________________ Includes ________________
:include "D:\Users\Tim\Documents\VisCPU\VisOS\sys\driver\test\test_device.vasm"
; ________________ CONST VALUES ________________
; ________________ VARIABLE FIELDS ________________
:data __test_assignment_fail "Assignment b[a]=d[5]Failed." linker:hide
:data __test_arrayV_add_arrayC "Assignment_ArrayV_ArrayC_Simple_Test" linker:hide
:data __bArray 10 linker:hide
:data __dArray 10 linker:hide
:data tmp_1825 1 linker:hide
:data __Assign_ArrayV_ArrayC_Simple_Test_b 1 linker:hide
:data __Assign_ArrayV_ArrayC_Simple_Test_d 1 linker:hide
:data tmp_1826 1 linker:hide
:data __Assign_ArrayV_ArrayC_Simple_Test_a 1 linker:hide
:data tmp_1827 1 linker:hide
:data tmp_1828 1 linker:hide
:data tmp_1829 1 linker:hide
:data tmp_1830 1 linker:hide
:data tmp_1831 1 linker:hide
:data tmp_1832 1 linker:hide
:data tmp_1836 1 linker:hide
:data tmp_1837 1 linker:hide
:data tmp_1838 1 linker:hide
:data tmp_1840 1 linker:hide
; ________________ MAIN PROGRAM CODE ________________
LOAD tmp_1825 __bArray
PUSH tmp_1825; Push Param ptr_of(bArray)
LOAD tmp_1825 __dArray
PUSH tmp_1825; Push Param ptr_of(dArray)
JSR Assign_ArrayV_ArrayC_Simple_Test
HLT
; ________________ FUNCTION CODE ________________
.Assign_ArrayV_ArrayC_Simple_Test linker:hide
POP __Assign_ArrayV_ArrayC_Simple_Test_d
POP __Assign_ArrayV_ArrayC_Simple_Test_b
:include "D:\Users\Tim\Documents\VisCPU\VisOS\sys\driver\test\test_device.vasm"
LOAD tmp_1826 __test_arrayV_add_arrayC
PUSH tmp_1826; Push Param ptr_of(test_arrayV_add_arrayC)
LOAD tmp_1826 36
PUSH tmp_1826; Push Param size_of(test_arrayV_add_arrayC)
JSR BeginTest
LOAD tmp_1826 5
COPY tmp_1826 __Assign_ArrayV_ArrayC_Simple_Test_a ; Left: def a ; Right: 5
LOAD tmp_1827 5
COPY __Assign_ArrayV_ArrayC_Simple_Test_d tmp_1826
ADD tmp_1826 tmp_1827 ; Apply offset
LOAD tmp_1828 1
LOAD tmp_1829 tmp_1828 ; Load Pointer for assignment
CREF tmp_1829 tmp_1826 ; Left: VisCPU.HL.Parser.Tokens.Expressions.Operators.Special.HLArrayAccessorOp ; Right: 1
COPY __Assign_ArrayV_ArrayC_Simple_Test_a tmp_1828
COPY __Assign_ArrayV_ArrayC_Simple_Test_b tmp_1829
ADD tmp_1829 tmp_1828 ; Apply offset
LOAD tmp_1832 5
COPY __Assign_ArrayV_ArrayC_Simple_Test_d tmp_1831
ADD tmp_1831 tmp_1832 ; Apply offset
DREF tmp_1831 tmp_1830 ; Dereference Array Pointer
LOAD tmp_1831 tmp_1830 ; Load Pointer for assignment
CREF tmp_1831 tmp_1829 ; Left: VisCPU.HL.Parser.Tokens.Expressions.Operators.Special.HLArrayAccessorOp ; Right: VisCPU.HL.Parser.Tokens.Expressions.Operators.Special.HLArrayAccessorOp
; Start IF
COPY __Assign_ArrayV_ArrayC_Simple_Test_a tmp_1836
COPY __Assign_ArrayV_ArrayC_Simple_Test_b tmp_1830
ADD tmp_1830 tmp_1836 ; Apply offset
LOAD tmp_1837 1
DREF tmp_1830 tmp_1838 ; Dereference Array Pointer (Equality Comparison)
LOAD tmp_1831 0
BNE tmp_1838 tmp_1837 bexpr_eq_1839
LOAD tmp_1831 1
.bexpr_eq_1839 linker:hide
BEZ tmp_1831 if_end_1833
JSR PassTest
RET
JMP if_end_1833
.if_end_1833 linker:hide
LOAD tmp_1830 __test_assignment_fail
PUSH tmp_1830; Push Param ptr_of(test_assignment_fail)
LOAD tmp_1837 27
PUSH tmp_1837; Push Param size_of(test_assignment_fail)
JSR FailTest
RET

.PtrRunAssign_ArrayV_ArrayC_Simple_Test
:include "D:\Users\Tim\Documents\VisCPU\VisOS\sys\driver\test\test_device.vasm"
LOAD tmp_1840 __bArray
PUSH tmp_1840; Push Param ptr_of(bArray)
LOAD tmp_1840 __dArray
PUSH tmp_1840; Push Param ptr_of(dArray)
JSR Assign_ArrayV_ArrayC_Simple_Test
RET

