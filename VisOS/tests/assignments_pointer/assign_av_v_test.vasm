; ________________ Includes ________________
:include "D:\Users\Tim\Documents\VisCPU\VisOS\sys\driver\test\test_device.vasm"
; ________________ CONST VALUES ________________
; ________________ VARIABLE FIELDS ________________
:data __test_assignment_fail "Assignment b[a]=c Failed." linker:hide
:data __test_arrayV_add_v "Assignment_ArrayV_V_Simple_Test" linker:hide
:data __bArray 10 linker:hide
:data tmp_2136 1 linker:hide
:data __Assign_ArrayV_V_Simple_Test_b 1 linker:hide
:data tmp_2137 1 linker:hide
:data __Assign_ArrayV_V_Simple_Test_a 1 linker:hide
:data __Assign_ArrayV_V_Simple_Test_c 1 linker:hide
:data tmp_2138 1 linker:hide
:data tmp_2139 1 linker:hide
:data tmp_2140 1 linker:hide
:data tmp_2144 1 linker:hide
:data tmp_2145 1 linker:hide
:data tmp_2146 1 linker:hide
:data tmp_2148 1 linker:hide
; ________________ MAIN PROGRAM CODE ________________
LOAD tmp_2136 __bArray
PUSH tmp_2136; Push Param ptr_of(bArray)
JSR Assign_ArrayV_V_Simple_Test
HLT
; ________________ FUNCTION CODE ________________
.Assign_ArrayV_V_Simple_Test linker:hide
POP __Assign_ArrayV_V_Simple_Test_b
:include "D:\Users\Tim\Documents\VisCPU\VisOS\sys\driver\test\test_device.vasm"
LOAD tmp_2137 __test_arrayV_add_v
PUSH tmp_2137; Push Param ptr_of(test_arrayV_add_v)
LOAD tmp_2137 31
PUSH tmp_2137; Push Param size_of(test_arrayV_add_v)
JSR BeginTest
LOAD tmp_2137 5
COPY tmp_2137 __Assign_ArrayV_V_Simple_Test_a ; Left: def a ; Right: 5
LOAD tmp_2137 1
COPY tmp_2137 __Assign_ArrayV_V_Simple_Test_c ; Left: def c ; Right: 1
COPY __Assign_ArrayV_V_Simple_Test_a tmp_2138
COPY __Assign_ArrayV_V_Simple_Test_b tmp_2137
ADD tmp_2137 tmp_2138 ; Apply offset
COPY __Assign_ArrayV_V_Simple_Test_c tmp_2139
LOAD tmp_2140 tmp_2139 ; Load Pointer for assignment
CREF tmp_2140 tmp_2137 ; Left: VisCPU.HL.Parser.Tokens.Expressions.Operators.Special.HLArrayAccessorOp ; Right: c
; Start IF
COPY __Assign_ArrayV_V_Simple_Test_a tmp_2144
COPY __Assign_ArrayV_V_Simple_Test_b tmp_2139
ADD tmp_2139 tmp_2144 ; Apply offset
LOAD tmp_2145 1
DREF tmp_2139 tmp_2146 ; Dereference Array Pointer (Equality Comparison)
LOAD tmp_2140 0
BNE tmp_2146 tmp_2145 bexpr_eq_2147
LOAD tmp_2140 1
.bexpr_eq_2147 linker:hide
BEZ tmp_2140 if_end_2141
JSR PassTest
RET
JMP if_end_2141
.if_end_2141 linker:hide
LOAD tmp_2139 __test_assignment_fail
PUSH tmp_2139; Push Param ptr_of(test_assignment_fail)
LOAD tmp_2145 25
PUSH tmp_2145; Push Param size_of(test_assignment_fail)
JSR FailTest
RET

.PtrRunAssign_ArrayV_V_Simple_Test
:include "D:\Users\Tim\Documents\VisCPU\VisOS\sys\driver\test\test_device.vasm"
LOAD tmp_2148 __bArray
PUSH tmp_2148; Push Param ptr_of(bArray)
JSR Assign_ArrayV_V_Simple_Test
RET

