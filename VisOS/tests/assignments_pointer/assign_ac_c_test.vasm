; ________________ Includes ________________
:include "D:\Users\Tim\Documents\VisCPU\VisOS\sys\driver\test\test_device.vasm"
; ________________ CONST VALUES ________________
; ________________ VARIABLE FIELDS ________________
:data __test_arrayC_add_c "Assignment_ArrayC_C_Simple_Test" linker:hide
:data __test_assignment_fail "Assignment b[5]=1Failed." linker:hide
:data __bArray 10 linker:hide
:data tmp_1953 1 linker:hide
:data __Assign_ArrayC_C_Simple_Test_b 1 linker:hide
:data tmp_1954 1 linker:hide
:data tmp_1955 1 linker:hide
:data tmp_1956 1 linker:hide
:data tmp_1957 1 linker:hide
:data tmp_1961 1 linker:hide
:data tmp_1962 1 linker:hide
:data tmp_1963 1 linker:hide
:data tmp_1965 1 linker:hide
; ________________ MAIN PROGRAM CODE ________________
LOAD tmp_1953 __bArray
PUSH tmp_1953; Push Param ptr_of(bArray)
JSR Assign_ArrayC_C_Simple_Test
HLT
; ________________ FUNCTION CODE ________________
.Assign_ArrayC_C_Simple_Test linker:hide
POP __Assign_ArrayC_C_Simple_Test_b
:include "D:\Users\Tim\Documents\VisCPU\VisOS\sys\driver\test\test_device.vasm"
LOAD tmp_1954 __test_arrayC_add_c
PUSH tmp_1954; Push Param ptr_of(test_arrayC_add_c)
LOAD tmp_1954 31
PUSH tmp_1954; Push Param size_of(test_arrayC_add_c)
JSR BeginTest
LOAD tmp_1955 5
COPY __Assign_ArrayC_C_Simple_Test_b tmp_1954
ADD tmp_1954 tmp_1955 ; Apply offset
LOAD tmp_1956 1
LOAD tmp_1957 tmp_1956 ; Load Pointer for assignment
CREF tmp_1957 tmp_1954 ; Left: VisCPU.HL.Parser.Tokens.Expressions.Operators.Special.HLArrayAccessorOp ; Right: 1
; Start IF
LOAD tmp_1961 5
COPY __Assign_ArrayC_C_Simple_Test_b tmp_1956
ADD tmp_1956 tmp_1961 ; Apply offset
LOAD tmp_1962 1
DREF tmp_1956 tmp_1963 ; Dereference Array Pointer (Equality Comparison)
LOAD tmp_1957 0
BNE tmp_1963 tmp_1962 bexpr_eq_1964
LOAD tmp_1957 1
.bexpr_eq_1964 linker:hide
BEZ tmp_1957 if_end_1958
JSR PassTest
RET
JMP if_end_1958
.if_end_1958 linker:hide
LOAD tmp_1956 __test_assignment_fail
PUSH tmp_1956; Push Param ptr_of(test_assignment_fail)
LOAD tmp_1962 24
PUSH tmp_1962; Push Param size_of(test_assignment_fail)
JSR FailTest
RET

.PtrRunAssign_ArrayC_C_Simple_Test
:include "D:\Users\Tim\Documents\VisCPU\VisOS\sys\driver\test\test_device.vasm"
LOAD tmp_1965 __bArray
PUSH tmp_1965; Push Param ptr_of(bArray)
JSR Assign_ArrayC_C_Simple_Test
RET

