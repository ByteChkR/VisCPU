; ________________ Includes ________________
:include "D:\Users\Tim\Documents\VisCPU\VisOS\sys\driver\test\test_device.vasm"
; ________________ CONST VALUES ________________
; ________________ VARIABLE FIELDS ________________
:data __test_assignment_fail "Assignment Failed." linker:hide
:data __test_arrayV_add_arrayV "Assignment_ArrayV_ArrayV_Simple_Test" linker:hide
:data __bArray 10 linker:hide
:data __dArray 10 linker:hide
:data tmp_1889 1 linker:hide
:data __Assign_ArrayV_ArrayV_Simple_Test_b 1 linker:hide
:data __Assign_ArrayV_ArrayV_Simple_Test_d 1 linker:hide
:data tmp_1890 1 linker:hide
:data __Assign_ArrayV_ArrayV_Simple_Test_a 1 linker:hide
:data tmp_1891 1 linker:hide
:data tmp_1892 1 linker:hide
:data tmp_1893 1 linker:hide
:data tmp_1894 1 linker:hide
:data tmp_1895 1 linker:hide
:data tmp_1896 1 linker:hide
:data tmp_1900 1 linker:hide
:data tmp_1901 1 linker:hide
:data tmp_1902 1 linker:hide
:data tmp_1904 1 linker:hide
; ________________ MAIN PROGRAM CODE ________________
LOAD tmp_1889 __bArray
PUSH tmp_1889; Push Param ptr_of(bArray)
LOAD tmp_1889 __dArray
PUSH tmp_1889; Push Param ptr_of(dArray)
JSR Assign_ArrayV_ArrayV_Simple_Test
HLT
; ________________ FUNCTION CODE ________________
.Assign_ArrayV_ArrayV_Simple_Test linker:hide
POP __Assign_ArrayV_ArrayV_Simple_Test_d
POP __Assign_ArrayV_ArrayV_Simple_Test_b
:include "D:\Users\Tim\Documents\VisCPU\VisOS\sys\driver\test\test_device.vasm"
LOAD tmp_1890 __test_arrayV_add_arrayV
PUSH tmp_1890; Push Param ptr_of(test_arrayV_add_arrayV)
LOAD tmp_1890 36
PUSH tmp_1890; Push Param size_of(test_arrayV_add_arrayV)
JSR BeginTest
LOAD tmp_1890 5
COPY tmp_1890 __Assign_ArrayV_ArrayV_Simple_Test_a ; Left: def a ; Right: 5
LOAD tmp_1891 5
COPY __Assign_ArrayV_ArrayV_Simple_Test_d tmp_1890
ADD tmp_1890 tmp_1891 ; Apply offset
LOAD tmp_1892 1
LOAD tmp_1893 tmp_1892 ; Load Pointer for assignment
CREF tmp_1893 tmp_1890 ; Left: VisCPU.HL.Parser.Tokens.Expressions.Operators.Special.HLArrayAccessorOp ; Right: 1
COPY __Assign_ArrayV_ArrayV_Simple_Test_a tmp_1892
COPY __Assign_ArrayV_ArrayV_Simple_Test_b tmp_1893
ADD tmp_1893 tmp_1892 ; Apply offset
COPY __Assign_ArrayV_ArrayV_Simple_Test_a tmp_1896
COPY __Assign_ArrayV_ArrayV_Simple_Test_d tmp_1895
ADD tmp_1895 tmp_1896 ; Apply offset
DREF tmp_1895 tmp_1894 ; Dereference Array Pointer
LOAD tmp_1895 tmp_1894 ; Load Pointer for assignment
CREF tmp_1895 tmp_1893 ; Left: VisCPU.HL.Parser.Tokens.Expressions.Operators.Special.HLArrayAccessorOp ; Right: VisCPU.HL.Parser.Tokens.Expressions.Operators.Special.HLArrayAccessorOp
; Start IF
COPY __Assign_ArrayV_ArrayV_Simple_Test_a tmp_1900
COPY __Assign_ArrayV_ArrayV_Simple_Test_b tmp_1894
ADD tmp_1894 tmp_1900 ; Apply offset
LOAD tmp_1901 1
DREF tmp_1894 tmp_1902 ; Dereference Array Pointer (Equality Comparison)
LOAD tmp_1895 0
BNE tmp_1902 tmp_1901 bexpr_eq_1903
LOAD tmp_1895 1
.bexpr_eq_1903 linker:hide
BEZ tmp_1895 if_end_1897
JSR PassTest
RET
JMP if_end_1897
.if_end_1897 linker:hide
LOAD tmp_1894 __test_assignment_fail
PUSH tmp_1894; Push Param ptr_of(test_assignment_fail)
LOAD tmp_1901 18
PUSH tmp_1901; Push Param size_of(test_assignment_fail)
JSR FailTest
RET

.PtrRunAssign_ArrayV_ArrayV_Simple_Test
:include "D:\Users\Tim\Documents\VisCPU\VisOS\sys\driver\test\test_device.vasm"
LOAD tmp_1904 __bArray
PUSH tmp_1904; Push Param ptr_of(bArray)
LOAD tmp_1904 __dArray
PUSH tmp_1904; Push Param ptr_of(dArray)
JSR Assign_ArrayV_ArrayV_Simple_Test
RET

