; ________________ Includes ________________
:include "D:\Users\Tim\Documents\VisCPU\VisOS\sys\driver\test\test_device.vasm"
; ________________ CONST VALUES ________________
; ________________ VARIABLE FIELDS ________________
:data __str_test_name "IfVarNoArgsTest" linker:hide
:data __str_ret_c_val_fail "C:Return value is not5" linker:hide
:data __str_ret_v_val_fail "V:Return value is not5" linker:hide
:data tmp_526 1 linker:hide
:data __TestV_b 1 linker:hide
:data tmp_527 1 linker:hide
:data tmp_528 1 linker:hide
:data tmp_532 1 linker:hide
:data tmp_533 1 linker:hide
:data tmp_538 1 linker:hide
; ________________ MAIN PROGRAM CODE ________________
JSR IfVarNoArgsTest
HLT
; ________________ FUNCTION CODE ________________
.TestC linker:hide
:include "D:\Users\Tim\Documents\VisCPU\VisOS\sys\driver\test\test_device.vasm"
LOAD tmp_526 5
PUSH tmp_526
RET

.TestV linker:hide
:include "D:\Users\Tim\Documents\VisCPU\VisOS\sys\driver\test\test_device.vasm"
LOAD tmp_527 5
COPY tmp_527 __TestV_b ; Left: def b ; Right: 5
PUSH __TestV_b
RET

.IfVarNoArgsTest
:include "D:\Users\Tim\Documents\VisCPU\VisOS\sys\driver\test\test_device.vasm"
LOAD tmp_528 __str_test_name
PUSH tmp_528; Push Param ptr_of(str_test_name)
LOAD tmp_528 15
PUSH tmp_528; Push Param size_of(str_test_name)
JSR BeginTest
; Start IF
JSR TestC
; Write back return value to 'tmp_532'
POP tmp_532
LOAD tmp_533 5
LOAD tmp_528 0
BNE tmp_532 tmp_533 bexpr_eq_534
LOAD tmp_528 1
.bexpr_eq_534 linker:hide
BEZ tmp_528 if_end_529
; Start IF
JSR TestV
; Write back return value to 'tmp_532'
POP tmp_532
LOAD tmp_538 5
LOAD tmp_533 0
BNE tmp_532 tmp_538 bexpr_eq_539
LOAD tmp_533 1
.bexpr_eq_539 linker:hide
BEZ tmp_533 if_end_535
JSR PassTest
RET
JMP if_end_535
.if_end_535 linker:hide
LOAD tmp_538 __str_ret_v_val_fail
PUSH tmp_538; Push Param ptr_of(str_ret_v_val_fail)
LOAD tmp_532 22
PUSH tmp_532; Push Param size_of(str_ret_v_val_fail)
JSR FailTest
RET
JMP if_end_529
.if_end_529 linker:hide
LOAD tmp_533 __str_ret_c_val_fail
PUSH tmp_533; Push Param ptr_of(str_ret_c_val_fail)
LOAD tmp_538 22
PUSH tmp_538; Push Param size_of(str_ret_c_val_fail)
JSR FailTest
RET

