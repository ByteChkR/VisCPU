; ________________ Includes ________________
:include "D:\Users\Tim\Documents\VisCPU\VisOS\sys\driver\test\test_device.vasm"
; ________________ CONST VALUES ________________
; ________________ VARIABLE FIELDS ________________
:data __test_assignment_fail "Assignment b[5]=d[5]Failed." linker:hide
:data __test_arrayC_add_arrayC "Assignment_ArrayC_ArrayC_Simple_Test" linker:hide
:data tmp_1105 1 linker:hide
:data __Assign_ArrayC_ArrayC_Simple_Test_b 10 linker:hide
:data __Assign_ArrayC_ArrayC_Simple_Test_d 10 linker:hide
:data tmp_1106 1 linker:hide
:data tmp_1107 1 linker:hide
:data tmp_1108 1 linker:hide
:data tmp_1109 1 linker:hide
:data tmp_1110 1 linker:hide
:data tmp_1111 1 linker:hide
:data tmp_1115 1 linker:hide
:data tmp_1116 1 linker:hide
:data tmp_1117 1 linker:hide
; ________________ MAIN PROGRAM CODE ________________
JSR Assign_ArrayC_ArrayC_Simple_Test
HLT
; ________________ FUNCTION CODE ________________
.Assign_ArrayC_ArrayC_Simple_Test
:include "D:\Users\Tim\Documents\VisCPU\VisOS\sys\driver\test\test_device.vasm"
LOAD tmp_1105 __test_arrayC_add_arrayC
PUSH tmp_1105; Push Param ptr_of(test_arrayC_add_arrayC)
LOAD tmp_1105 36
PUSH tmp_1105; Push Param size_of(test_arrayC_add_arrayC)
JSR BeginTest
LOAD tmp_1106 5
LOAD tmp_1105 __Assign_ArrayC_ArrayC_Simple_Test_d
ADD tmp_1105 tmp_1106 ; Apply offset
LOAD tmp_1107 1
LOAD tmp_1108 tmp_1107 ; Load Pointer for assignment
CREF tmp_1108 tmp_1105 ; Left: VisCPU.HL.Parser.Tokens.Expressions.Operators.Special.HLArrayAccessorOp ; Right: 1
LOAD tmp_1107 5
LOAD tmp_1108 __Assign_ArrayC_ArrayC_Simple_Test_b
ADD tmp_1108 tmp_1107 ; Apply offset
LOAD tmp_1111 5
LOAD tmp_1110 __Assign_ArrayC_ArrayC_Simple_Test_d
ADD tmp_1110 tmp_1111 ; Apply offset
DREF tmp_1110 tmp_1109 ; Dereference Array Pointer
LOAD tmp_1110 tmp_1109 ; Load Pointer for assignment
CREF tmp_1110 tmp_1108 ; Left: VisCPU.HL.Parser.Tokens.Expressions.Operators.Special.HLArrayAccessorOp ; Right: VisCPU.HL.Parser.Tokens.Expressions.Operators.Special.HLArrayAccessorOp
; Start IF
LOAD tmp_1115 5
LOAD tmp_1109 __Assign_ArrayC_ArrayC_Simple_Test_b
ADD tmp_1109 tmp_1115 ; Apply offset
LOAD tmp_1116 1
DREF tmp_1109 tmp_1117 ; Dereference Array Pointer (Equality Comparison)
LOAD tmp_1110 0
BNE tmp_1117 tmp_1116 bexpr_eq_1118
LOAD tmp_1110 1
.bexpr_eq_1118 linker:hide
BEZ tmp_1110 if_end_1112
JSR PassTest
RET
JMP if_end_1112
.if_end_1112 linker:hide
LOAD tmp_1109 __test_assignment_fail
PUSH tmp_1109; Push Param ptr_of(test_assignment_fail)
LOAD tmp_1116 27
PUSH tmp_1116; Push Param size_of(test_assignment_fail)
JSR FailTest
RET

