; ________________ Includes ________________
:include "D:\Users\Tim\Documents\VisCPU\VisOS\sys\driver\test\test_device.vasm"
; ________________ CONST VALUES ________________
; ________________ VARIABLE FIELDS ________________
:data __test_arrayV_add_c "Assignment_ArrayV_C_Simple_Test" linker:hide
:data __test_assignment_fail "Assignment b[a]=1Failed." linker:hide
:data tmp_1471 1 linker:hide
:data __Assign_ArrayV_C_Simple_Test_b 10 linker:hide
:data __Assign_ArrayV_C_Simple_Test_a 1 linker:hide
:data tmp_1472 1 linker:hide
:data tmp_1473 1 linker:hide
:data tmp_1474 1 linker:hide
:data tmp_1478 1 linker:hide
:data tmp_1479 1 linker:hide
:data tmp_1480 1 linker:hide
; ________________ MAIN PROGRAM CODE ________________
JSR Assign_ArrayV_C_Simple_Test
HLT
; ________________ FUNCTION CODE ________________
.Assign_ArrayV_C_Simple_Test
:include "D:\Users\Tim\Documents\VisCPU\VisOS\sys\driver\test\test_device.vasm"
LOAD tmp_1471 __test_arrayV_add_c
PUSH tmp_1471; Push Param ptr_of(test_arrayV_add_c)
LOAD tmp_1471 31
PUSH tmp_1471; Push Param size_of(test_arrayV_add_c)
JSR BeginTest
LOAD tmp_1471 5
COPY tmp_1471 __Assign_ArrayV_C_Simple_Test_a ; Left: def a ; Right: 5
COPY __Assign_ArrayV_C_Simple_Test_a tmp_1472
LOAD tmp_1471 __Assign_ArrayV_C_Simple_Test_b
ADD tmp_1471 tmp_1472 ; Apply offset
LOAD tmp_1473 1
LOAD tmp_1474 tmp_1473 ; Load Pointer for assignment
CREF tmp_1474 tmp_1471 ; Left: VisCPU.HL.Parser.Tokens.Expressions.Operators.Special.HLArrayAccessorOp ; Right: 1
; Start IF
COPY __Assign_ArrayV_C_Simple_Test_a tmp_1478
LOAD tmp_1473 __Assign_ArrayV_C_Simple_Test_b
ADD tmp_1473 tmp_1478 ; Apply offset
LOAD tmp_1479 1
DREF tmp_1473 tmp_1480 ; Dereference Array Pointer (Equality Comparison)
LOAD tmp_1474 0
BNE tmp_1480 tmp_1479 bexpr_eq_1481
LOAD tmp_1474 1
.bexpr_eq_1481 linker:hide
BEZ tmp_1474 if_end_1475
JSR PassTest
RET
JMP if_end_1475
.if_end_1475 linker:hide
LOAD tmp_1473 __test_assignment_fail
PUSH tmp_1473; Push Param ptr_of(test_assignment_fail)
LOAD tmp_1479 24
PUSH tmp_1479; Push Param size_of(test_assignment_fail)
JSR FailTest
RET

