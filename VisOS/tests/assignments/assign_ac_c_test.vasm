; ________________ Includes ________________
:include "D:\Users\Tim\Documents\VisCPU\VisOS\sys\driver\test\test_device.vasm"
; ________________ CONST VALUES ________________
; ________________ VARIABLE FIELDS ________________
:data __test_arrayC_add_c "Assignment_ArrayC_C_Simple_Test" linker:hide
:data __test_assignment_fail "Assignment b[5]=1Failed." linker:hide
:data tmp_1353 1 linker:hide
:data __Assign_ArrayC_C_Simple_Test_b 10 linker:hide
:data tmp_1354 1 linker:hide
:data tmp_1355 1 linker:hide
:data tmp_1356 1 linker:hide
:data tmp_1360 1 linker:hide
:data tmp_1361 1 linker:hide
:data tmp_1362 1 linker:hide
; ________________ MAIN PROGRAM CODE ________________
JSR Assign_ArrayC_C_Simple_Test
HLT
; ________________ FUNCTION CODE ________________
.Assign_ArrayC_C_Simple_Test
:include "D:\Users\Tim\Documents\VisCPU\VisOS\sys\driver\test\test_device.vasm"
LOAD tmp_1353 __test_arrayC_add_c
PUSH tmp_1353; Push Param ptr_of(test_arrayC_add_c)
LOAD tmp_1353 31
PUSH tmp_1353; Push Param size_of(test_arrayC_add_c)
JSR BeginTest
LOAD tmp_1354 5
LOAD tmp_1353 __Assign_ArrayC_C_Simple_Test_b
ADD tmp_1353 tmp_1354 ; Apply offset
LOAD tmp_1355 1
LOAD tmp_1356 tmp_1355 ; Load Pointer for assignment
CREF tmp_1356 tmp_1353 ; Left: VisCPU.HL.Parser.Tokens.Expressions.Operators.Special.HLArrayAccessorOp ; Right: 1
; Start IF
LOAD tmp_1360 5
LOAD tmp_1355 __Assign_ArrayC_C_Simple_Test_b
ADD tmp_1355 tmp_1360 ; Apply offset
LOAD tmp_1361 1
DREF tmp_1355 tmp_1362 ; Dereference Array Pointer (Equality Comparison)
LOAD tmp_1356 0
BNE tmp_1362 tmp_1361 bexpr_eq_1363
LOAD tmp_1356 1
.bexpr_eq_1363 linker:hide
BEZ tmp_1356 if_end_1357
JSR PassTest
RET
JMP if_end_1357
.if_end_1357 linker:hide
LOAD tmp_1355 __test_assignment_fail
PUSH tmp_1355; Push Param ptr_of(test_assignment_fail)
LOAD tmp_1361 24
PUSH tmp_1361; Push Param size_of(test_assignment_fail)
JSR FailTest
RET

