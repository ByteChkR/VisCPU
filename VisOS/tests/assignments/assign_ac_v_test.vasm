; ________________ Includes ________________
:include "D:\Users\Tim\Documents\VisCPU\VisOS\sys\driver\test\test_device.vasm"
; ________________ CONST VALUES ________________
; ________________ VARIABLE FIELDS ________________
:data __test_arrayC_add_v "Assignment_ArrayC_V_Simple_Test" linker:hide
:data __test_assignment_fail "Assignment b[5]=a Failed." linker:hide
:data tmp_1412 1 linker:hide
:data __Assign_ArrayC_V_Simple_Test_b 10 linker:hide
:data __Assign_ArrayC_V_Simple_Test_a 1 linker:hide
:data tmp_1413 1 linker:hide
:data tmp_1414 1 linker:hide
:data tmp_1415 1 linker:hide
:data tmp_1419 1 linker:hide
:data tmp_1420 1 linker:hide
:data tmp_1421 1 linker:hide
; ________________ MAIN PROGRAM CODE ________________
JSR Assign_ArrayC_V_Simple_Test
HLT
; ________________ FUNCTION CODE ________________
.Assign_ArrayC_V_Simple_Test
:include "D:\Users\Tim\Documents\VisCPU\VisOS\sys\driver\test\test_device.vasm"
LOAD tmp_1412 __test_arrayC_add_v
PUSH tmp_1412; Push Param ptr_of(test_arrayC_add_v)
LOAD tmp_1412 31
PUSH tmp_1412; Push Param size_of(test_arrayC_add_v)
JSR BeginTest
LOAD tmp_1412 1
COPY tmp_1412 __Assign_ArrayC_V_Simple_Test_a ; Left: def a ; Right: 1
LOAD tmp_1413 5
LOAD tmp_1412 __Assign_ArrayC_V_Simple_Test_b
ADD tmp_1412 tmp_1413 ; Apply offset
COPY __Assign_ArrayC_V_Simple_Test_a tmp_1414
LOAD tmp_1415 tmp_1414 ; Load Pointer for assignment
CREF tmp_1415 tmp_1412 ; Left: VisCPU.HL.Parser.Tokens.Expressions.Operators.Special.HLArrayAccessorOp ; Right: a
; Start IF
LOAD tmp_1419 5
LOAD tmp_1414 __Assign_ArrayC_V_Simple_Test_b
ADD tmp_1414 tmp_1419 ; Apply offset
LOAD tmp_1420 1
DREF tmp_1414 tmp_1421 ; Dereference Array Pointer (Equality Comparison)
LOAD tmp_1415 0
BNE tmp_1421 tmp_1420 bexpr_eq_1422
LOAD tmp_1415 1
.bexpr_eq_1422 linker:hide
BEZ tmp_1415 if_end_1416
JSR PassTest
RET
JMP if_end_1416
.if_end_1416 linker:hide
LOAD tmp_1414 __test_assignment_fail
PUSH tmp_1414; Push Param ptr_of(test_assignment_fail)
LOAD tmp_1420 25
PUSH tmp_1420; Push Param size_of(test_assignment_fail)
JSR FailTest
RET

