#define create_fsysinit(cls)
{
	public static uint fsysinit_cls(uint diskIdx, uint pIdx)
	{
		uint fsfmtp = malloc(cls);
		uint alloc = SystemCore.GetAllocator();

		DiskTable dt = SystemCore.GetDiskTable();
		PartitionTable pt = dt.GetPartitionTable(diskIdx);
		Partition pData = pt.GetPartition(pIdx);

		cls.new(fsfmtp, alloc, pData);
		
		return fsfmtp;
	}
}
#define fsinit(cls, dix, pix)
{
	fsysinit_cls(dix, pix)
}
